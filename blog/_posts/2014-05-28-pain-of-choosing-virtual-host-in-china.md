---
layout: post
title: 国内虚拟主机选择之痛
category: criticism
tags: [虚拟主机, 国内, DreamHost]

---

最近，一个客户的网站项目需要选择一个国内的空间服务商托管，而我之前因为受够了国内各种备案的折磨，一直都是用的国外主机服务，所以近几年对国内主机服务都不是很了解。但客户是要面向国内服务的，不可能接受国外线路不稳定和国内差很大的速度，于是我受命开始调研国内的主机商。

第一个看的客户朋友推荐他的X网虚拟主机服务，小网站，看列表对比了一下：

0.  X3型（最便宜）
    
    * Web空间150M（要是客户上传图片多肯定就不够了）
    * MySQL数据库空间20M（太小了点吧）
    * 每月带宽流量8G（很小访问量凑合够用，图片多了够呛）
    * 价格每年88（便宜是真便宜）
    
0.  M2型
    
    * Web空间500M（基本够用了）
    * Access的50M（没有MySQL数据库？！搞笑的吧）
    * 每月带宽流量20G（基本够用了）
    * 价格**580**（这价格翻的也太快了吧）

他们家后面的就更不用看了，￥980，￥1380……虚拟主机要这么贵么！

然后听说XX互联口碑不错，又去看了价格，比X网的是公道了些，但看了PHP版本居然是5.2的，这东西用的虚拟主机还没法自己升级，很多新特性没法用，比如namespace，这就造成有一些使用命名空间的MVC框架无法使用了（虽然也没用到）。而万一用到什么新特性的时候等主机商去升级这事就太不靠谱了，所以还是放弃。

想到国内几大互联网公司也有开放的云平台，也去点开查阅了下。

0.  X浪的平台
    
    * 要用svn上传程序，不能git，关键每次还要手动改一个版本号（实在不爽）
    * 平台有很多限制，一些函数还好，用的不多。但rewrite规则被重新定义了一套，以后迁移起来麻烦
    * Storage服务今后难以迁移，有好有不好
    
0.  X度的平台
    
    * PaaS
    * 支持git
    * 支持多人协作
    * 支持语言最多，版本较新

这些平台大多是PaaS，开发部署方便，但是持久化存储等一般需要选用平台的其他服务，今后若是整套迁移都会比较麻烦。虽然初期费用很低，但后期可能还是比较麻烦，所以也只能弃用。

国内其他还有大大小小各种虚拟主机服务商至少几千家，但太便宜没名气的服务稳定性也很成问题，早年用过一家就出过数据丢失的事故，于是再也不用。这样造成了选择极度困难，我在想，难道我是被Dreamhost惯坏了么？

对比一下DreamHost的虚拟主机服务，他比国内这些主机商实在强大太多：

0. 支持ssh登录，服务器支持多种语言的脚本和工具，比如：Ruby，Java，Python等（没有Node略缺憾）
0. 支持自建git/svn服务
0. 虚拟服务站点数量不限
0. 空间基本不限容量（真没看到哪里写了限制）
0. 带宽流量不限
0. 支持无限多用户多账号
0. MySQL空间不限
0. 支持cron任务
0. 支持Flash media媒体转换
0. 支持Jabber的即时通讯协议
0. 自带邮箱系统

还有更多我没探索出来，但这样的服务你说要多少钱一年？怎么也得上千了吧？1000RMB那是VPS的价！只要$120！你没看错！只要$120，算上汇率也不到800RMB优质服务立马买回家！

在国内想要这么强大功能的服务只能上VPS了，口碑好比较稳定的也就XX云，最低配置单核512M内存20G硬盘一年也要495RMB（还是新开的青岛节点），配置高点的价格轻松就上千了。关键Dreamhost的是虚拟主机啊，而且几个人合用的话简直是花虚拟主机的钱买了VPS的服务。国外服务好的还不止Dreamhost一家，还有很多价格不高服务也很好的服务商比如DigitalOcean，Linode等。

但唯一可惜的硬伤就是服务器在美帝，速度差国内太多。于是，最后，为了方便和自由，还是让客户直接选择了XX云的VPS，幸好客户不差这点钱。

-EOF-
